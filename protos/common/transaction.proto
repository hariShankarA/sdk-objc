syntax = "proto3";
package io.token.proto.common.transaction;

option java_outer_classname = "TransactionProtos";

import "money.proto";

enum TransactionType {
  INVALID_TYPE = 0;
  DEBIT = 1;
  CREDIT = 2;
}

enum TransactionStatus {
  INVALID_STATUS = 0;             // invalid status
  PENDING = 1;                    // the transaction is pending submission
  ACCEPTED = 8;                   // the transaction has been accepted but not yet processed
  DELAYED = 9;                    // the processing of the transaction has been delayed (sanctions)
  PROCESSING = 7;                 // the transaction is being processed
  SUCCESS = 2;                    // the transaction has been successful
  FAILURE_CANCELED = 10;          // the transaction has been canceled by the remitter
  FAILURE_REJECTED = 11;          // the transaction has been rejected by the beneficiary
  FAILURE_INSUFFICIENT_FUNDS = 3; // the transaction has failed due to insufficient funds
  FAILURE_INVALID_CURRENCY = 4;   // the transaction has failed due to currency mismatch
  FAILURE_PERMISSION_DENIED = 6;  // the transaction has failed due to access violation
  FAILURE_GENERIC = 5;            // the transaction has failed due to other reasons
}

message Transaction {
  string id = 1;
  TransactionType type = 2;
  TransactionStatus status = 3;
  io.token.proto.common.money.Money amount = 4;
  string description = 5;

  string token_id = 6;                             // Points to the token, only set for Token transactions.
  string token_transfer_id = 7;                    // Points to the token transfer, only set for Token transactions.
}
