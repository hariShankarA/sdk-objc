syntax = "proto3";
package io.token.proto.common.transfer;

option java_outer_classname = "TransferProtos";

import "money.proto";
import "security.proto";
import "transferinstructions.proto";


// A transfer record as persisted on the ledger.
message Transfer {
  string id = 1;                               // Computed as the hash of the transfer payload.
  string reference_id = 2;                     // Bank transaction reference id.
  Payload payload = 3;
  int64 created_at_ms = 4;
  repeated io.token.proto.common.security.Signature payload_signatures = 5;

  message Payload {
    string nonce = 1;                                                                  // Client assigned unique request id.
    string token_id = 2;                                                               // Token id.
    io.token.proto.common.money.Money amount = 3;                                      // Amount and currency.
    repeated io.token.proto.common.transferinstructions.Destination destinations = 5;  // Transfer desitinations, sorted in priority order.
    string description = 6;                                                            // Optional
  }
}

