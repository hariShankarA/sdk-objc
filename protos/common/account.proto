syntax = "proto3";

package io.token.proto.common.account;
option java_outer_classname = "AccountProtos";

// The payload of the bank authorization request. Used for serialization only.
// The value of the payload is encrypted as a serialized JSON object.
message PlaintextBankAuthorization {
  string username = 1;
  string account_name = 2;
  BankAccount account = 3;
  int64 expiration_ms = 4;
}

// Optional account tag data.
message AccountTag {
  string key = 1;
  string value = 2;
}

// Token linked account.
message Account {
  string id = 1;
  string name = 2;
  string bank_id = 3;
  repeated AccountTag tags = 4;
}

// Account information as seen by the bank. This is what the end user links with
// the bank and what Token uses when it talks to the bank.
message BankAccount {
  string bic = 1;
  string account = 2;  // Bank decides format. If bank uses, e.g., "CH12345", that's great.
}
