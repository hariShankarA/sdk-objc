syntax = "proto3";
package io.token.proto.bankapi;

import "google/api/annotations.proto";

message AuthorizeLinkAccountsRequest {
  string client_id = 1;
  string username = 2;
  string secret = 3;
  repeated string accounts = 4;
}

message AuthorizeLinkAccountsResponse {
  string bank_id = 1;
  string bank_name = 2;
  string accounts_link_payload = 3;
}


////////////////////////////////////////////////////////////////////////////////////////////////////
// Hosted by existing web service, exposes API to initiate account linking.
//

service AccountLinkingService {
  rpc AuthorizeLinkAccounts (AuthorizeLinkAccountsRequest) returns (AuthorizeLinkAccountsResponse) {
    option (google.api.http) = {
        put: "/clients/{client_id}/link-accounts"
    };
  }
}

